
# Installation Methods

## **Installation Requirements**

1. **Kubernetes Cluster**:
   - A running Kubernetes cluster is mandatory. Ensure the cluster is operational and meets resource requirements for ArgoCD components.
   - Nodes should have sufficient capacity to handle workloads, with at least 2 CPU cores and 4GB RAM recommended for the ArgoCD server.

1. **kubectl Installed**:

   The `kubectl` command-line tool must be installed and configured to access the Kubernetes cluster.

1. **Git Repository**:

   A Git repository containing application manifests is required. This repository serves as the single source of truth for application configurations.

1. **Namespace Setup**:

   Create a namespace (`argocd`) in the Kubernetes cluster where ArgoCD services and resources will reside:
     ```bash
     kubectl create namespace argocd
     ```

1. **Storage Requirements**:

   Allocate sufficient storage space for application manifests, configurations, and metadata. A general recommendation is 10GB of storage per application.

1. **Network Connectivity**:

   Ensure network connectivity to access the Kubernetes API server and Git repositories. Bandwidth should support multiple clusters and users.

---

## **Installation Considerations**

1. **Installation Method**:

   Use `kubectl apply` to install ArgoCD components via manifests:
     ```bash
     kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
     ```

1. **Namespace Configuration**:

   The default installation binds `ClusterRoleBinding` resources to the `argocd` namespace. If you change the namespace, update all references in the manifests to avoid permission issues.

1. **High Availability (HA)**:

   For production environments, consider installing ArgoCD in HA mode using `ha/install.yaml`, which includes multiple replicas for critical components like the API server and controllers.

1. **Security Setup**:

   - Configure RBAC (Role-Based Access Control) to manage user permissions effectively.
   - Use secure certificates or configure self-signed certificates properly for CLI operations and UI access.

1. **Multi-Tenancy**:

   For organizations with multiple teams, set up multi-tenant installations where each team can manage its applications independently while sharing centralized infrastructure.

1. **Backup and Disaster Recovery**:

   Implement a backup strategy to protect application manifests and configurations in case of failures.

---

## Helm chart installation

```bash
helm repo add argo https://argoproj.github.io/argo-helm
helm repo update
helm upgrade --install --namespace argocd --create-namespace argo-cd argo/argo-cd
helm list -A
```

---

## Expose ArgoCD WebUI

1. Add `127.0.0.1 argocd.localhost` to `C:\Windows\System32\drivers\etc\hosts`
1. Update Helm deployment with enabled ingress and insecure server service
    ```bash
    helm upgrade --install --namespace argocd --create-namespace argo-cd argo/argo-cd --set global.domain=argocd.localhost --set server.ingress.enabled=true --set 'configs.params.server\.insecure=true'
    ```
1. Navigate with `k9s` to secrets in `argocd` namespace and decode the `argocd-initial-admin-secret`
1. Open the WebUI: http://argocd.localhost and login with `admin` user
